# Arch Laravel Setup

Set up a **Laravel Breeze** development environment with **Livewire**, **SQLite**, and **VSCODE** on **Arch Linux**.

---

## Install Required Packages

Install the following packages:
```
sudo pacman -Syu php php-sqlite composer npm nodejs unzip
```
## Enable SQLite in your PHP Config File
1. Open your PHP config file with:  
    - `sudo nano /etc/php/php.ini`
2. Press `ctrl + w` and search for:  
    - `pdo_sqlite`  
    -  `sqlite3`  
    -  `intl`  
3. Uncomment both lines by removing the `;`:  
    - `extension=pdo_sqlite`  
    - `extension=sqlite3`  
    - `extension=intl`  
4. Save and exit:
    - `ctrl + o` then `Enter` to save
    - `ctrl + x` to exit
## Create a Project with Composer
1. make/cd into the directory you would like the project to be generated e.g.:
    ```
    mkdir ~/Code  
    cd ~/Code
    ```  
2. Create the project with composer:  
    ```
    composer create-project laravel/laravel laravelapp
    ```
## Configure SQLite Database
1. Open your project in VSCode and ensure your `database.sqlite` file was auto generated at:  
    - `database/database.sqlite`
      
    *If not there, create with:*
    ```
    touch database/database.sqlite
    ```
2. open your `.env` file located at the root of your project and update the database settings:
     ```
     DB_CONNECTION=sqlite
     DB_DATABASE=./database/database.sqlite
     ```
3. Run migrations:
     `php artisan migrate`
## Start the App
1. Open a terminal and run:
     ```
     composer install
     npm install
     ```
2. Hot load the frontend with:  
   ```
   npm run dev
   ```
4. Serve the backend with:  
     ```
     php artisan serve
     ```
   
      By default, this will run at:
   
     ```
     http://127.0.0.1:8000
     ```
     
## Install Laravel Breeze
1. Add `laravel/breeze` to your `composer.json`'s `require-dev` section:
     ```
     composer require laravel/breeze --dev
     ```
2. Install Laravel Breeze into your project:
    ```
    php artisan breeze:install
    ```
3. You will be prompted with the following options:
     ```
   ┌ Which Breeze stack would you like to install? ──────────────┐
   │ › ○ Blade with Alpine                                       │
   │   ● Livewire (Volt Class API) with Alpine                   │
   │   ○ Livewire (Volt Functional API) with Alpine              │
   │   ○ React with Inertia                                      │
   │   ○ Vue with Inertia                                        │
   │   ○ API only                                                │
   └─────────────────────────────────────────────────────────────┘
     ```
   We will choose the second option.
   
4. Select if you would like dark mode support:
     ```
     ┌ Would you like dark mode support? ──────────────────────────┐
     │ ● Yes / ○ No                                                │
     └─────────────────────────────────────────────────────────────┘
     ```
     
5. Select your testing framework:
     ```
     ┌ Which testing framework do you prefer? ─────────────────────┐
     │ › ● Pest                                                    │
     │   ○ PHPUnit                                                 │
     └─────────────────────────────────────────────────────────────┘
     ```
     We will use Pest
   
6. Run `npm install` to install the new packages `Laravel Breeze` added to your `package.json` file:
     ```
     npm install
     ```
7. Run `php artisan migrate` to ensure the new tables generated by Breeze are migrated to your database:
     ```
     php artisan migrate
     ```
## *Optional* Seed Test User
If desired, you can generate a quick test user to login with:  
```bash
php artisan db:seed
```
the default credentials are:  
```
Email: test@example.com  
Password: password
```
## Run both the front and backend
1. Open up a terminal and input the following to run the backend:
     ```
     php artisan serve
     ```
2. Open up a second terminal and build the front end:
     ```
     npm run dev
     ```
     *Note:* we use `npm run dev` for hot reloading during development. However, if you want a static build then `npm run build` works just as well.
## Done
Visit the provided URL given in your `PHP` terminal after you ran `php artisan serve`:  
```bash
http://127.0.0.1:8000
```

# Extras
## Extensions
You may find the following extensions useful:  
1. Laravel Artisan
2. PHP Intelephense
3. PHP Namespace Resolver
4. Laravel Extra Intellisense
5. Laravel Blade Snippets
## Add .blade.php as an HTML type file  
You will be working with .blade.php files, so it maybe useful to enable automatic HTML completion in VSCode for this file type.  
1. Open VSCode and `ctrl + ,` to open your settings
2. In the search bar search for `Files: Associations`
3. Click the `Add Item` button
4. For the item field, enter: `*.blade.php`
5. For the value field, enter: `html`  

Your blade.php files should now behave as expected.

### Alternative Method
Alternatively, once inside of your settings look to the top right corner and open your `settings.json` file.  

<img width="168" height="52" alt="image" src="https://github.com/user-attachments/assets/92868c9c-0bc1-401c-92f8-0f3df5757ec7" />  

Add the following to your file:  

```bash
    "files.associations": {
        "*.blade.php": "html"
    }
```


